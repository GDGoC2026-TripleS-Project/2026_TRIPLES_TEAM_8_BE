spring:
  datasource:
    url: ${DB_URL}
    username: ${DB_USER_NAME}
    password: ${DB_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID}
            client-secret: ${GOOGLE_CLIENT_SECRET}
            scope:
              - profile
              - email
            # [중요] 구글 콘솔에 등록된 https 주소와 정확히 일치해야 합니다.
            redirect-uri: "{baseUrl}/login/oauth2/code/google"
      # 인증 완료 후 프론트엔드로 돌아갈 주소 (운영은 https 필수)
      front-redirect-uri: ${FRONT_REDIRECT_URI:https://sss-gread.duckdns.org}
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        show_sql: true
        format_sql: false
    open-in-view: false

server:
  # 프록시(Nginx) 뒤에 있을 때 X-Forwarded-Proto 헤더를 읽어 https를 유지하게 함
  forward-headers-strategy: native
  tomcat:
    remoteip:
      remote-ip-header: x-forwarded-for
      protocol-header: x-forwarded-proto
      # 모든 프록시 IP를 신뢰하도록 설정 (Nginx 연동 시 필수)
      internal-proxies: ".*"

output:
  ansi:
    enabled: always

jwt:
  secret: "33a872190a854a87074af40e7a77f8dd0d8bb5156a5f36655c2d9d80bb4e37ca"
  access-token-validity-in-milliseconds: 3600000

cors:
  # 환경변수에서 쉼표로 구분된 도메인 리스트를 읽어옵니다.
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000,https://sss-gread.duckdns.org}

logging:
  level:
    root: info
    com.example.gread: debug